=encoding utf-8

=head1 НАЗВАНИЕ

PSGI::Extensions - Расширения PSGI

=head1 Спецификация

PSGI окружение B<МОЖЕТ> включать следующие дополнительные расширения.
Они B<ОПЦИОНАЛЬНЫ> и приложения и middleware B<ДОЛЖНЫ> проверять их 
наличие перед использование предоставляемого расширениями функционала.

=over 4

=item *

C<psgix.io>: IO-сокет для прямого доступа клиентских соединений к низкоуровневым 
операциям. Доступен только когда PSGI сервера запущены как HTTP сервер,
и должен использоваться тогда ( и только тогда ) когда вы хотите выйти за пределы
PSGI абстракций, для реализации протоколов поверх HTTP, например BOSH или WebSocket.

=item *

C<psgix.input.buffered>: Возвращает булево значение True если тело HTTP запроса
( для POST или PUT запросов ) буферизированно с использованием временного файла
или PerlIO в C<psgi.input>. Если значение установлено - приложение или middleware
компоненты могут безопасно C<читать> из C<psgi.input> без беспокойства о 
неблокирующем I/O и могут использовать C<seek> для прозрачного перехода по входным
данным.

=item *

C<psgix.logger>: Интерфейс к логу сообщений. Этот интерфейс принимает один аргумент
в виде ссылки на хэш содержащий сообщение которое необходимо добавит в лог.
Эта ссылка на хэш B<ДОЛЖНА> включать два ключа:
C<level> и C<message> где C<level> B<ДОЛЖЕН> быть одной из следующих строк:
C<debug>, C<warn>, C<info>, C<error> или C<fatal>. C<message> B<ДОЛЖНА> быть простой 
строкой или скалярной переменной со строкой. 

=item *

C<psgix.session>: Ссылка на хэш для сохранения и получения данных сессии.
Измнения сделанные с этим хэшем B<ДОЛЖНЫ> сохраняться middleware компонентами и
B<ДОЛЖНЫ> быть восстановлены при следующих запросах. Сохранение и восстановление 
данных сессии, а так же идентификация запрашивающих клиентов зависит от реализации.

C<psgix.session.options>: Ссылка на хэш сообщающая middleware компонентам как 
работать с данными сессии после запроса. Принимаемые ключи и значения зависят от 
реализации.

=item *

C<psgix.harakiri>: Возвращает true если PSGI сервер поддерживает режим харакири,
он закрывает воркеров ( обычно форкнутые процессы ) после выполнения запроса.

C<psgix.harakiri.commit>: Булево значение, устанавливается в true PSGI приложением
или middleware если они хотят чтобы сервер закрыл воркера после выполнения текущего
запроса.

=back

=head1 COPYRIGHT AND LICENSE

Copyright Tatsuhiko Miyagawa, 2009-2011.

This document is licensed under the Creative Commons license by-sa.

=cut
